# EMSC4033 project plan

## Modeling Path-Dependent Ground Motion in volcanic region

## Executive summary
_Volcanic areas can have complex geological structures that affect the propagation of seismic waves, typically manifested in Path-Dependent Attenuation, the reduction of seismic waves as they propagate from the earthquake source to the sites of interest.
Understanding and accounting for these variations in attenuation can lead to more accurate predictions of ground motion, which is essential for assessing seismic hazards and designing structures that can withstand potential earthquakes.
In this project I plan to  make a ground motion field that takes into account the  path dependent attenuation associated with a volcanic area._

## Goals

- Goal 1: Implement a script to run OpenQuake outside of Python to calculate two ground motion fields using different GMPEs for the same seismic source and sites.

- Goal 2: Develop Python code to import the ground motion fields and site data generated by OpenQuake using the OpenQuake Python module for further analysis.

- Goal 3: Utilise pandas and geopandas to merge the two ground motion fields based on the proximity of each site to polygons delimiting volcanic areas, ensuring accurate representation of volcanic influences on ground motion.

- ...

## Background and Innovation  

_Bakground: OpenQuake is an open-source software platform developed by the Global Earthquake Model (GEM) Foundation. It provides tools for probabilistic seismic hazard assessment, exposure modeling, vulnerability assessment, and risk calculation. OpenQuake does have some capabilities for merging ground motion fields, however, it can not achieve mergence considering path-dependent attenuation associated with a volcanic area. Pandas can be used to load the ground motion fields and site data into DataFrame objects for efficient data manipulation and analysis. Geopandas can be used to represent the site locations as geometric points and to identify which sites intersect with the volcanic area polygon. Shapely can be used to identify which site points intersect with the volcanic area polygon.

Innovation: 1. The project accounts for the path-dependent attenuation effects. 2.It represents site locations as geometric points and define the volcanic area as a polygon , effectively identifies which sites have paths that intersect the volcanic area._

## Resources & Timeline

The resources what I want to use is: Openquake.

Timeline:
- Step 1: Set up an environment
- Step 2: Use OpenQuake to calculate two ground motion fields for the same source and sites, but with different GMPEs.
- Step 3: After running the OpenQuake calculations, import the OpenQuake module into Python. (Use the appropriate OpenQuake functions to extract the two ground motion fields and site data from the OpenQuake data file.)
- Step 4: Use pandas/geopandas to efficiently merge the two ground motion fields based on whether the path to each site crosses the polygon delimiting the volcanic area.
- Step 5: Analyze and visualize the result ground motion field.
- Step 6: Test, validate and document the result. 

## Testing, validation, documentation

When you look at many different projects on Github, you will see little badges that flag that the code is working, or perhaps warning that something
has stopped working. These are typically automatically generated - which means there needs to be a piece of code that checks whether things are working.


**Note:** You need to think about how you will know your code is correct and achieves 
the goals that are set out above (specific tests that can be implemented automatically using, 
for example, the `assert` statement in python.)  It can be really helpful if those tests are also 
part of the documentation so that when you tell people how to do something with the code, 
the example you give is specifically targetted by some test code.

_Provide some specific tests with values that you can imagine `assert`ing_
